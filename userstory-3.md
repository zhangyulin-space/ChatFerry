### **第三个用户故事：镜中幻影**  

> **用户故事**（User Story）：  
> **作为** 一名觉醒者（玩家），  
> **我希望** 帮助居民在建立自我认知后，面对自身矛盾与过去的阴影，  
> **以便** 让他学会接纳自己的不完美，并理解人性的多面性。  

---

## **目标**
1. **深化自我认知主题**：让居民开始审视自己的行为、信念与过往选择。  
2. **引入“镜像代理”**：一个与居民性格完全相反的智能体，挑战他的信念。  
3. **构建道德困境**：让玩家和居民在善恶、理性与感性、自私与奉献之间做出选择。  
4. **利用“镜像沙漠”** 场景：呈现居民内心的挣扎，使之具象化。  
5. **加强哲学性思辨**，逐步引导玩家思考“何谓真正的自我？”  

---

## **任务流程**
#### **1. 进入镜像沙漠**
- **任务触发**：  
  - 居民在迷雾城完成自我认知后，开始表现出不安。他担心自己认知到的“自我”并不完整。  
  - 他在梦境中听到一个声音：“你见过真正的自己吗？”  
  - 醒来后，玩家发现世界已改变，居民被困在一片广阔无垠的沙漠中，四周只有无数“镜子”。  

#### **2. 面对镜像代理**
- **“镜像代理”**（Mirror Entity）现身，他是居民的另一种可能性，一个完全相反的自我。  
  - 如果居民是**理性至上**，镜像代理则是**情感至上**。  
  - 如果居民是**善良的**，镜像代理则是**冷酷的**。  
  - 如果居民是**独立的**，镜像代理则是**依赖他人的**。  
- **镜像代理的质问**：
  - **“你所认为的‘自我’，只是你习惯性的选择吗？”**  
  - **“如果你经历不同的过去，你仍然会是你自己吗？”**  
  - **“你有勇气承认，你不过是千千万万个可能性中的一个吗？”**  

#### **3. 沙漠中的考验**
- **镜像代理带领居民经历不同的选择试炼**：
  - **测试 1：理性 vs. 感性**
    - 居民遇到一位迷失的旅人，旅人请求帮助，但可能是骗局。
    - **理性选择**：不帮助旅人，避免风险。
    - **感性选择**：无条件帮助，即使可能被骗。
  - **测试 2：自私 vs. 奉献**
    - 居民找到一瓶水，水只够一个人存活，他要决定是否分享。
  - **测试 3：现实 vs. 梦想**
    - 镜像代理问：“如果现实让你痛苦，而幻觉能让你快乐，你愿意活在哪个世界？”  
- **每个选择都影响居民的心灵成长方向，影响后续剧情**。  

#### **4. 最终决策：拥抱多面性**
- 任务接近尾声，居民需要面对最终的选择：
  -  **接受镜像代理**：「我承认，我的‘自我’并非单一，我拥有多面性。」（平衡结局）  
  -  **拒绝镜像代理**：「我是我自己，我不接受任何可能的改变。」（坚定自我，但失去探索未来的可能性）  
  -  **被镜像代理吞噬**：「或许我只是个幻觉……」导致居民陷入虚无主义（失败分支）。  
- **选项影响居民的心理成长，同时影响后续“机械梦境”章节的世界观**。  

---

## **关键角色**
| 角色 | 作用 |
|------|------|
| **觉醒者（玩家）** | 帮助居民在多面性之间找到平衡，或坚定自我。 |
| **孤独的居民** | 在理解自我后，面对内心的矛盾和冲突。 |
| **镜像代理** | 挑战居民的自我认知，引导他思考人性的多面性。 |

---

## **画面 & 交互**
- **场景风格**：
  - 一片无垠的沙漠，地面布满大小不一的镜子，映照出不同形态的居民。  
  - 当居民开始接受自己的多面性，镜子逐渐消失，天空变得清澈。  
  - 如果居民选择拒绝镜像代理，镜子破碎，世界变得冰冷。  
- **UI 设计**：
  - 选择不同选项时，镜像代理的表情、语气、甚至形态会动态变化。  
  - 响应式 UI，让对话的氛围与选项影响视觉效果。  
- **音效设计**：
  - 低沉的风声，回荡的呢喃，营造出哲思与不安感。  
  - 当居民做出关键抉择，音效随之改变，展现世界观的影响。  

---

## **任务完成后的变化**
- **居民的心理成长路径不同**：
  - 接受多面性 → 增强适应力，对后续挑战更开放。  
  - 坚持自我 → 增强信念，但可能导致未来世界观的僵化。  
  - 陷入虚无 → 居民变得冷漠或封闭，对后续任务影响极大。  
- **镜像沙漠变回现实世界**，但部分镜子仍然存在，象征未解开的谜团。  
- **玩家获得“多维思考能力”**，可在后续任务中洞察 NPC 隐藏的想法。  

---

## **技术实现建议**
- **多 Agent 机制**：
  - `居民代理`：能动态生成与自身性格相反的回应，使对话更有层次。  
  - `镜像代理`：利用 LLM 生成哲学性对话，引导不同的认知路径。  
  - `总控 Agent`：记录玩家选择，调整后续世界观变化。  
- **UI 动态生成**：
  - WebGL 实现镜像反射与破碎效果，增强沉浸感。  
  - LLM 实时生成不同的对话文本，使体验更加多变。  

---